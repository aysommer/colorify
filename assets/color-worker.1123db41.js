(function(){"use strict";const g=i=>{const{red:t,green:s,blue:e}=i;return(t<<16|s<<8|e).toString(16)},h=i=>{let{red:t,green:s,blue:e}=i;t/=255,s/=255,e/=255;let r=Math.min(t,s,e),l=Math.max(t,s,e),n=l-r,o=0,u=0,c=0;return n===0?o=0:l===t?o=(s-e)/n%6:l===s?o=(e-t)/n+2:o=(t-s)/n+4,o=Math.round(o*60),o<0&&(o+=360),c=(l+r)/2,u=n===0?0:n/(1-Math.abs(2*c-1)),u=+(u*100).toFixed(1),c=+(c*100).toFixed(1),{hue:o,saturation:u,lightness:c}},a=({data:i})=>{let t={};for(let e=0;e<i.length;e+=4){const r={red:i[e],green:i[e+1],blue:i[e+2]},l="#"+("000000"+g(r)).slice(-6),n=h(r);t[l]={amount:t[l]?t[l].amount+1:1,HSL:n}}let s=Object.keys(t).map(e=>({HEX:e,...t[e]})).sort((e,r)=>e.amount-r.amount).reverse();return s.forEach(e=>{const{hue:r,lightness:l}=e.HSL;s=s.filter(n=>{const{hue:o,lightness:u}=n.HSL;return u>l||u<l?n:o>r-10&&o<r+10&&n!==e?null:n})}),s.splice(0,25)};onmessage=({data:i})=>{const t=a(i);postMessage(t)}})();
