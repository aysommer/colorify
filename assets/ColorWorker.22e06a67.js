var f=Object.defineProperty;var S=(a,s,l)=>s in a?f(a,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[s]=l;var H=(a,s,l)=>(S(a,typeof s!="symbol"?s+"":s,l),l);(function(){"use strict";const l=class{};let s=l;H(s,"rgbToHex",c=>{const{red:n,green:o,blue:t}=c;return(n<<16|o<<8|t).toString(16)}),H(s,"rgbToHSL",c=>{let{red:n,green:o,blue:t}=c;n/=255,o/=255,t/=255;let u=Math.min(n,o,t),g=Math.max(n,o,t),i=g-u,e=0,r=0,h=0;return i===0?e=0:g===n?e=(o-t)/i%6:g===o?e=(t-n)/i+2:e=(n-o)/i+4,e=Math.round(e*60),e<0&&(e+=360),h=(g+u)/2,r=i===0?0:i/(1-Math.abs(2*h-1)),r=+(r*100).toFixed(1),h=+(h*100).toFixed(1),{hue:e,saturation:r,lightness:h}}),H(s,"getColors",({data:c})=>{let n={};for(let t=0;t<c.length;t+=4){const u=c[t],g=c[t+1],i=c[t+2],e={red:u,green:g,blue:i},r="#"+("000000"+l.rgbToHex(e)).slice(-6),h=l.rgbToHSL(e);n[r]={amount:n[r]?n[r].amount+1:1,HSL:h}}let o=Object.keys(n).map(t=>({HEX:t,...n[t]})).sort((t,u)=>t.amount-u.amount).reverse();return o.forEach(t=>{const{hue:u,lightness:g}=t.HSL;o=o.filter(i=>{const{hue:e,lightness:r}=i.HSL;return r>g||r<g?i:e>u-10&&e<u+10&&i!==t?null:i})}),o.splice(0,25)}),onmessage=({data:m})=>{const c=s.getColors(m);postMessage(c)}})();
